<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise in Javascript</title>
</head>
<body style="text-align: center; font-family: Arial, sans-serif; background-color: black; color: aliceblue;" >
    <h1>Promise in Javascript</h1>
    <script>
        const promiseOne = new Promise(function(resolve,reject){
            setTimeout(function (){
                console.log("Async task is completed");
                resolve(); // direct connect with .then();
            },1000);
        });

        promiseOne.then(function(){
            console.log("Promise consumed");
        })

//+++++++++++++++++++++++++++++ task 2 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
        new Promise(function(resolve,reject){
            setTimeout(function(){
                console.log("Async task 2 completed");
                resolve();
            },2000);
        }).then(function(){
            console.log("Task to resolved")
        });

//+++++++++++++++++++++++++++++ task 3 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
        const promiseThree = new Promise (function(resolve,reject){
            setTimeout(function(){

                resolve({userName : "Chai", email :"gk@gmail.com"});
            },3000)
        })
        promiseThree.then(function(user){
            console.log(user)
        })
//+++++++++++++++++++++++++++++ task 4 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    const promiseFour = new Promise (function(resolve,reject){
        setTimeout(function(){
            let error = true;
            if(!error){
                resolve({userName : "Gaurav", password :"234923hdj"})
            } else {
                reject('ERROR : Something went wrong');
            }
        },4000)
    });

    promiseFour
    .then((user) => {
        console.log(user);
        return user.userName;
    })
    .then((userName) =>{
        console.log(userName);
    })
    .catch(function(error){
        console.log(error); 
    })
    .finally(()=>{
        console.log("Promise is either run or Rejected !!")
    })
//+++++++++++++++++++++++++++++ task 5 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    const promiseFive = new Promise (function(resolve, reject){
        setTimeout(function(){
            let error = true;
            if(!error){
                resolve({userName : "Javascript", password :"wesdjv342"})
            } else {
                reject('ERROR : Js went wrong');
            }
        },5000)
    });
    async function consumepromiseFive() {
        try{
            const response = await promiseFive;
        console.log(response)
        } catch (error){
            console.log(error);
        }
    }

    consumepromiseFive();
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    async function getAllUsers (){
        try {
        const response = await fetch('https://jsonplaceholder.typicode.com/users');
            //console.log(response)
        const data = await response.json();
        console.log(data);
        } catch (error) {
            console.log(error);
        }
    }
    getAllUsers();
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    fetch('https://jsonplaceholder.typicode.com/users')
    .then((response)=>{
        return response.json();
    })
    .then((data) =>{
        console.log(data)
    })
    .catch((error)=>{
        console.log(error);
    })
    </script>
</body>
</html>